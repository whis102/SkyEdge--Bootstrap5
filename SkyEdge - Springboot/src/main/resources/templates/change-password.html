<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Login</title>

	<link rel="shortcut icon" th:href="@{/assets/favicon.png}" type="image/x-icon">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<link rel="stylesheet" th:href="@{/pages/Login/login.css}">
	<link rel="stylesheet" th:href="@{/assets/css/colors.css}">
	<link rel="stylesheet" th:href="@{/assets/css/typo.css}">
	<link rel="stylesheet" th:href="@{/displays/AccountDisplay/account.css}">
</head>

<body>
	<div class="row">
		<div class="col bg-transparent d-flex flex-column justify-content-center align-content-center">
			<a role="button" class="d-flex align-items-center p-4 mb-2 gap-2 logo-skyedge" href="/">
				<img class="" th:src="@{/assets/favicon.png}" alt="Logo" width="40" height="40">
				<span class="text fs-4 color-web-text">SkyEdge</span>
			</a>
			<div class="custom-form form-container">
				<p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>

				<form action="#" th:action="@{/change-password}" th:object="${user}" method="post"
					class="needs-validation" novalidate>
					<div class="mb-3">
						<input type="hidden" id="id" name="id" th:field="*{userId}" />
					</div>

					<!-- Password input -->
					<div class="mb-3">
						<label for="password" class="form-label">Password</label>
						<input id="password" name="password" th:field="*{password}" type="password" class="form-control"
							placeholder="Password" required>
						<div class="invalid-feedback">
							Please enter a password.
						</div>
					</div>

					<!-- Password confirmation input -->
					<div class="mb-3">
						<label for="password_confirm" class="form-label">Confirm Password</label>
						<input id="password_confirm" name="password_confirm" type="password" class="form-control"
							placeholder="Confirm Password" oninput="check(this)" required>
						<div class="invalid-feedback">
							Passwords must match.
						</div>
					</div>

					<!-- Custom validity script -->
					<script language='javascript' type='text/javascript'>
						function check(input) {
							if (input.value != document.getElementById('password').value) {
								input.setCustomValidity('Password Must be Matching.');
							} else {
								input.setCustomValidity('');
							}
						}
					</script>

					<!-- Submit button -->
					<div class="btn_box">
						<button type="submit" class="btn btn-success">
							Update Password
						</button>
					</div>
				</form>
			</div>

		</div>
		<div class="col">
			<img th:src="@{/assets/Login_background.png}" class="image" alt="Background">
		</div>
	</div>
	<!-- Scripts -->
	<script type="text/javascript" th:src="@{/pages/Login/login.js}"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>